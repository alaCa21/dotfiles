Arquivo: zshell tips and tricks
Criado: Sáb 04/Jan/2014 hs 07:23
Last Change: 2014 Fev 01 16:04:12
autor: Sérgio Luiz Araújo Silva
site: http://vivaotux.blogspot.com
twitter: http://www.twitter.com/voyeg3r
email: <voyeg3r at gmail.com>

{{{

= changing the shell =

	sudo chsh -s $(which zsh) $(whoami)

= one-liners =

# lowcase filenames - source: http://lorenzod8n.wordpress.com/category/zsh/

		for file in *; do mv $file ${file:l}; done
		for p in ~/pictures/**/*[A-Z]*; do mv $p ${p:l}; done

=use r to repeat the last command - with substituition =

  echo one two
  r two=three
  one three

= print var in lowcase =

		echo $var:l

=how set up 'command not found'=

[ -r /etc/profile.d/cnf.sh ] && . /etc/profile.d/cnf.sh

== some funtions ==

shell () {
  ps | grep `echo $$` | awk '{ print $4 }'
}






# show only directories
print -l foldero/**/*(/)

# show only regular files
print -l foldero/**/*(.)

 changed in last three days
		ls -l */**(.m3)

# show empty files
ls -l foldero/**/*(L0)

# show files greater than 3 KB
ls -l foldero/**/*(Lk+3)

# show files modified in the last hour
print -l foldero/**/*(mh-1)

# sort files from most to least recently modified and show the last 3
ls -l foldero/**/*(om[1,3])

   list the most recent file
		ls -l */**(.om[1])

    # vi newest file
		vi *(.om[1])

show all files with extension .pdf in current directory and all subdirectory

ls **/*.pdf

show all regular files with the word “test” in their name in current directory and all subdirectory


		ls **/*test*(.)

find all executable files in current directory and all subdirectory


				ls -l **/*(.x)

find all files of user tomcat

		ls -l **/*(u:tomcat:)

find all files you accessed within the last month:


		ls **/*(.aM-1)

find all files with size larger than 10 megabytes

		ls **/*(.Lm+10)


show only executable files

   ls -l **/*(*)

tornar executáveis todos os arquivos de um diretório


    o ponto "." é um qualificador que indica arquio

		chmod -x **/*(.)

# zmv "programmable rename"
autoload -U zmv

# rename txt to html
zmv '(*).txt' '$1.html'

#Replace spaces in filenames with underline
zmv '* *' '$f:gs/ /_'

zmv '(* *)' '${1// /}'
zmv -Q "(**/)(* *)(D)" "\$1\${2// /_}"
# Change the suffix from *.sh to *.pl
zmv -W '*.sh' '*.pl'
# lowercase/uppercase all files/directories
$ zmv '(*)' '${(L)1}' # lowercase
$ zmv '(*)' '${(U)1}' # uppercase

}}}
