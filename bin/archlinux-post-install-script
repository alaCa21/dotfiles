#!/usr/bin/env bash
# =================================================
#          CREATED: Dom 29/Dez/2013 hs 07:08
#      LAST CHANGE: 2014 Jan 17 12:34:13
# THIS SCRIPT AIMS: arch linux post install script
#           AUTHOR: Sérgio Luiz Araújo Silva
#             SITE: http://vivaotux.blogspot.com
#          TWITTER: @voyeg3r
#            SKYPE: sergioaraujosilva
# =================================================

# Reference: https://gist.github.com/Xifax/1517721

# testa se está logado como root
#if [ "$(id -u)" != "0" ]; then
#	echo "  Need be root"
#	sleep 2
#	exit  1
#fi

# userstyles to google
# http://userstyles.org/styles/81403/gt-deepdark-for-google

# xkill: https://www.archlinux.org/packages/extra/i686/xorg-xkill/

# Atualizar o sistema
pacman -Syu
sudo pacman -S base-devel

cowerinstall () {
	# another package manager "cower"
	# https://aur.archlinux.org/packages/co/cower/cower.tar.gz
	wget -c https://aur.archlinux.org/packages/co/cower/cower.tar.gz
	tar zxvf cower.tar.gz && cd cower
	makepkg -s
	sudo pacman -U `find -maxdepth 1 -type f | grep pkg`
} && cowerinstall

# Documentação python
pacman -Syu pydoc

# pesquisar por pacotes: pacman -Ss <nome>

# how install lsb_release
# wget -c https://www.archlinux.org/packages/community/any/lsb-release/download/ && pacman -U $_

# how install yaourt
# https://aur.archlinux.org/packages/yaourt/

# another good package mananger is pacaur

# using aur.sh
# source: http://aur.sh/
#
# install aur package
# bash <(curl aur.sh) -si [package ...]
#
# updating aur packages
# sudo pacman -Qqm | xargs bash <(curl aur.sh) -si --needed

# read about dnsmasq
# https://wiki.archlinux.org/index.php/Dnsmasq

# wallpaper changer
# https://aur.archlinux.org/packages/variety/

installpm () {
	# pm - little package mananger
	# https://aur.archlinux.org/packages.php?ID=62711
	# dependences: pacaur
	[ -d ~/build ] && cd ~/build
	wget -c  https://aur.archlinux.org/packages/pm/pm/pm.tar.gz
	tar zxvf pm.tar.gz && cd pm
	makepkg -si
} && installpm



admintools () {
	pacman -Syu gparted nmap arp-scan unetbootin polkit-gnome curl rsync sudo git gksu gksudo lsof tmux
	pacman -Syu openssh dnsmasq python-setuptools gvim
	# davfs2 in order to access webdav services
	# dav://webdav.4shared.com
	pacman -U https://www.archlinux.org/packages/extra/i686/davfs2/download/
} && admintools

gdiskdump () {
		wget -c https://aur.archlinux.org/packages/gd/gdiskdump/gdiskdump.tar.gz
		tar zxvf gdiskdump.tar.gz && cd gdiskdump
		makepkg -si
} && gdiskdump

configzsh () {
	# video explanation: http://www.youtube.com/watch?v=1S3MUVIAieE
	# https://github.com/robbyrussell/oh-my-zsh
	# after install you need to do new login
	# themes here: https://github.com/robbyrussell/oh-my-zsh/wiki/themes
	pacman -Syu zsh zsh-lovers git
	yaourt -S zsh-completions
	git clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh
	cp ~/.zshrc ~/.zshrc.orig
	cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc
	sudo chsh -s $(which zsh) $(whoami)
} && configzsh

basesystem () {
	sudo pacman -Syu dbus acpi acpid
} && basesystem

compactadores () {
	sudo pacman -Sy zip unzip unrar p7zip
} && compactadores

graphictools () {
	sudo pacman -Syu inkscape gimp
	sudo yaourt -S --noconfirm gloobus-sushi-bzr
    sudo yaourt -S --noconfirm cairo-ubuntu fontconfig-ubuntu freetype2-ubuntu
} && graphictools

googletalkplugin () {
		# https://aur.archlinux.org/packages/google-talkplugin/
		wget -c https://aur.archlinux.org/packages/go/google-talkplugin/google-talkplugin.tar.gz
		tar zxvf google-talkplugin.tar.gz && cd google-talkplugin
		makepkg -si
} && googletalkplugin

multimedia () {
	# corebird is a twitter client
	# simplescreenrecorder: https://aur.archlinux.org/packages/simplescreenrecorder/
	# gnome-shell-mousewell: https://github.com/tobiasquinn/gnome-shell-mousewheel-zoom
	# python powerline: https://aur.archlinux.org/packages/python-powerline-git/
	sudo yaourt -S corebird-git
	sudo pacman -Syu
	sudo pacman -Syu sox
	sudo pacman -Syu xorg-utils pavucontrol
	gnome-{document,music,maps,photos,tweak-tool,extra}
	sudo pacman -S --noconfirm audacious audacity
	sudo pacman -S --noconfirm gedit-plugins pulseaudio-gnome telepathy deja-dup
	sudo pacman -S --noconfirm rhythmbox
	sudo yaourt -S --noconfirm codecs
	# sucessor do ffmpeg
	# https://aur.archlinux.org/packages/libav-git/
} && multimedia


